# Оценка результатов А/В теста

Датафрейм ab_project_marketing_events (календарь маркетинговых событий на 2020 год):   
* name — название маркетингового события;  
* regions — регионы, в которых будет проводиться рекламная кампания;  
* start_dt — дата начала кампании;  
* finish_dt — дата завершения кампании.  

Датафрейм final_ab_new_users (все пользователи, зарегистрировавшиеся в интернет-магазине в период с 7 по 21 декабря 2020 года):  
* user_id — идентификатор пользователя;  
* first_date — дата регистрации;  
* region — регион пользователя;  
* device — устройство, с которого происходила регистрация.  

Датафрейм final_ab_events (все события новых пользователей в период с 7 декабря 2020 по 4 января 2021 года):   
* user_id — идентификатор пользователя;  
* event_dt — дата и время события;  
* event_name — тип события;  
* details — дополнительные данные о событии. Например, для покупок, purchase, в этом поле хранится стоимость покупки в долларах.  

Датафрейм final_ab_participants (таблица участников тестов):  
* user_id — идентификатор пользователя;  
* ab_test — название теста;  
* group — группа пользователя. 


**Техническое задание:**  
* Название теста: recommender_system_test;  
* Группы: А (контрольная), B (новая платёжная воронка);  
* Дата запуска: 2020-12-07;  
* Дата остановки набора новых пользователей: 2020-12-21;  
* Дата остановки: 2021-01-04;  
* Аудитория: 15% новых пользователей из региона EU;  
* Назначение теста: тестирование изменений, связанных с внедрением улучшенной рекомендательной системы;  
* Ожидаемое количество участников теста: 6000.  
* Ожидаемый эффект: за 14 дней с момента регистрации в системе пользователи покажут улучшение каждой метрики не менее, чем на 10%:  
    1. конверсии в просмотр карточек товаров — событие product_page;  
    2. просмотры корзины — product_cart;  
    3. покупки — purchase.  


**Цель исследования:** провести оценку корректности и результатов A/B-теста.

**Декомпозиция:**   
1. Выгрузить данные для исследования.  
2. Выполнить предобработку данных:   
   * исследовать и обработать пропущенные значения;  
   * исследовать и привести в соответствие типы;  
   * исследовать и обработать дубликаты;  
   * проверить корректность наименований колонок.    
3. Провести оценку корректности проведения теста:   
   * регистрация новых пользователей;  
   * даты событий пользователей;     
   * аудитория теста;    
   * соответствие лайфтайму в 14 дней;  
   * проверка количества пользователей с нулевыми событиями;  
   * время проведения теста.  
4. Исследовательский анализ данных:
   * количество событий на пользователя;  
   * распределение числа событий по дням;  
   * конверсия в воронке на разных этапах;  
   * определить особенности данных перед A/B-тестированием.
5. Провести оценку результатов А/В-тестирования:  
   * результаты A/B-тестирования;    
   * проверка статистической разницы долей z-критерием:  
        * Нулевая гипотеза: среднее количество пользователей совершивших событие в группах A и B равно;  
        * Альтернативная гипотеза: среднее количество пользователей совершивших событие в группах A и B неравно.

**Используемые библиотеки**  
pandas, numpy, seaborn, datetime, plotly, matplotlib, math, scipy 


**Общий вывод**  
Была проведена оценка корректности проведения А/В теста, а также его результатов
